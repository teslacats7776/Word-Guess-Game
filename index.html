<!DOCTYPE html>
<html>
<head>

<title>Guessing Game</title>
<link rel="stylesheet" href = "assets/css/reset.css">
<link type="text/css" rel="stylesheet" href="assets/css/style.css">
<link href="https://fonts.googleapis.com/css?family=New+Rocker&display=swap" rel="stylesheet">
<script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
<!--<script src="assets/javascript/game.js"></script>-->

</head>
<body>    
</body>

    <div class="container">
        <header>
    
   <h2>Isograms Word Guessing game</h2> <div id="logo">
      <img src="assets/images/GettyImages-556699853-58be669a5f9b58af5cefb97d-5b77276c46e0fb0050a932e4.jpg">
      </div></div>
        </header>
        
        <div id="youGuess"></div>
        <!--<div id="rightGuess"></div>-->
        <p>Wrong Guesses</p>
        <div id="wrongGuess"></div>
        <p>Remaining Chances</p>
        <div id="remainedChances"></div>
        <audio id="audio" src="assets/images/BOTW_Fanfare_HeartContainer.wav"></audio>
<script>
   
var words = [
"abolishment",
"atmospheric",
"backgrounds",
"campgrounds",
"complainers",
"countryside",
"dangerously",
"disgraceful",
"disturbance",
"documentary",
"facetiously",
"fracedinous",
"filmography",
"fluoridates",
"lumberjacks",
"misanthropy",
"nefariously",
"palindromes",
"personality",
"playgrounds",
"playwrights",
"precautions",
"predictably",
"Republicans",
"semordnilap",
"speculation",
"stenography",
"subordinate",
"Switzerland",
"trampolines",
"undesirably",
"vouchsafing",
"workmanship"
    ];
   
    var allchances = 10 ;
    var chanceleft = document.getElementById ("remainedChances");
  //choose word randomly
  var word = words[Math.floor(Math.random() * words.length)];
  console.log (word);
   var remainingLetters = word.length; 
  var rightWord =[];
  var wrongWord = [];
  
    var answerArray = [];
  function generateUnderscore () {
  
    for (var i = 0; i < word.length; i++) {
      answerArray.push ('_');
    }
  return answerArray;
  }
  console.log (generateUnderscore());

  //check user entered guess
   //var newDiv  = document.getElementById ("youGuess");

 
 
 
 
  document.addEventListener("keydown", function(event) {
    console.log(event.key);
    //newDiv.textContent = `${event.key}`;
  var youGuess = event.key;

  console.log (remainingLetters);
  console.log (word.indexOf(youGuess));
  //indexof, where in the string a specifed value occurs.
  
  //str.split('a').length-1

  if (word.indexOf(youGuess)>-1 && remainingLetters > 0 && allchances >0) 
{
//guessed right 

    answerArray[word.indexOf(youGuess)] = String (youGuess);
   console.log (answerArray);
    rightWord.push (youGuess);
    console.log (rightWord);

//var usedrightword = document.getElementById ("rightGuess");
//usedrightword.textContent = rightWord;
    var targetdiv = document.getElementById ("youGuess");
    targetdiv.textContent = answerArray;
   chanceleft.textContent = allchances;
   remainingLetters --;
    console.log (remainingLetters);
  }

//guessed wrong still has life
  else if (word.indexOf(youGuess)==-1 && remainingLetters > 0 && allchances >0)   {
    wrongWord.push (youGuess);
    console.log (wrongWord);
    var usedwrongword = document.getElementById ("wrongGuess");
    usedwrongword.textContent = wrongWord;
    allchances --;
    console.log (allchances);
   chanceleft.textContent = allchances;
  }
//guess wrong and life runs out
  else if (word.indexOf(youGuess)==-1 && remainingLetters > 0 && allchances == 0)  
{alert ("Failed!! The answer was " + word);
location.reload();
}
//win
else if (word.indexOf(youGuess)>-1 && remainingLetters == 0 && allchances > 0)  {
 // buffers automatically when created
 var playsound = function playSound() {
          var sound = document.getElementById("audio");
          sound.play();
      }
playsound();

//alert ("Congratulations!! The answer was " + word);
location.reload();

} 

} 

);

</script>
</html>